---
import SectionHeading from './SectionHeading.astro';
import links from '../content/links.json';

const iconMap: Record<string, string> = {
  pen: 'M12 20h9M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z',
  code: 'M16 18l6-6-6-6M8 6l-6 6 6 6',
  'message-circle': 'M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z',
  book: 'M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2zM22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z',
};
---

<section id="links" class="section">
  <div class="container">
    <SectionHeading
      title="Links"
      subtitle="Other places you can find me on the internet."
    />

    <div class="links-grid">
      {links.map((link, i) => (
        <a
          href={link.url}
          target="_blank"
          rel="noopener noreferrer"
          class="link-card animate-on-scroll"
          style={`transition-delay: ${i * 0.08}s`}
        >
          <div class="link-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d={iconMap[link.icon] || iconMap.code}></path>
            </svg>
          </div>
          <div class="link-info">
            <h3 class="link-title">{link.title}</h3>
            <p class="link-desc">{link.description}</p>
          </div>
          <div class="link-arrow">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M7 17l9.2-9.2M17 17V7.8H7.8"></path>
            </svg>
          </div>
        </a>
      ))}
    </div>
  </div>
</section>

<style>
  .section {
    padding: var(--section-gap) 2rem;
  }

  .container {
    max-width: var(--max-width);
    margin: 0 auto;
  }

  .links-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 1rem;
  }

  .link-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem 1.5rem;
    border-radius: 14px;
    background: rgba(49, 50, 68, 0.25);
    border: 1px solid var(--ctp-surface0);
    transition: all 0.3s ease;
    color: var(--ctp-text);
  }

  .link-card:hover {
    border-color: var(--ctp-surface1);
    transform: translateY(-2px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    color: var(--ctp-text);
  }

  .link-card:hover .link-arrow {
    color: var(--ctp-mauve);
    transform: translate(2px, -2px);
  }

  .link-icon {
    width: 42px;
    height: 42px;
    border-radius: 10px;
    background: rgba(203, 166, 247, 0.08);
    border: 1px solid rgba(203, 166, 247, 0.15);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--ctp-mauve);
    flex-shrink: 0;
  }

  .link-info {
    flex: 1;
    min-width: 0;
  }

  .link-title {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--ctp-text);
  }

  .link-desc {
    font-size: 0.8rem;
    color: var(--ctp-overlay1);
    margin-top: 0.2rem;
    line-height: 1.5;
  }

  .link-arrow {
    color: var(--ctp-overlay0);
    transition: all 0.3s ease;
    flex-shrink: 0;
  }

  @media (max-width: 640px) {
    .links-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
